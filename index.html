<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grocery Prices</title>
    <link href="https://unpkg.com/gridjs/dist/theme/mermaid.min.css" rel="stylesheet" />
    <script src="https://unpkg.com/gridjs/dist/grid.umd.js"></script>
</head>
<body>

    <h2 style="font-family: sans-serif; margin: 20px;">Grocery Store Prices</h2>
    
    <div id="wrapper"></div>

    <script>
        // 4. Wait for the browser to be ready
        window.addEventListener('DOMContentLoaded', (event) => {
            new gridjs.Grid({
                search: true,
                sort: true,
                pagination: {
                    limit: 20
                },
                resizable: true,
                server: {
                    url: 'Winco_Data.csv',
                    then: data => {
                        // Cleans up extra spaces/empty rows that often break CSV parsing
                        return data.trim().split("\n").map(row => row.split(","));
                    }
                },
                style: {
                    table: {
                        'font-family': 'sans-serif'
                    }
                }
            }).render(document.getElementById("wrapper"));
        });
    </script>

</body>
</html>
